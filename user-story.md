# What I want the app to do

I want to create an app that will be a frontend for my n8n workflows. I want to serve chat agents as well as other agents that trigger when I call them from my app.
For the chat agents I want to be able to have knowledge bases, which are vector store databases like the ones we have on @vector-store.sql

My app has 2 roles, the admin and the user.

# Admin role

- The admin also should be able to manage the users.
- The admin should be able to assign workflows to the users, which will be the clients of the product.
- The admin should be able to create new tables in the database, which will be the knowledge bases for a workflow if needed. This should be done either manually, or programmatically via a call to a supabase api, which will call an internal function to create a table and associate it to a workflow.

# User role

- The user should be able to upload documents for a specific agent, which will be there for display while also chunked into 1000 chars and added to the particular knowledge base of a workflow.
- The user should be able to delete a document, and the knowledge base should also be updated (we can have the file_id in the metadata of each row on the knowledge base, so we know what row belongs to what document)
- The user should be able to manage a workflow, by adding system instructions to it.

# Other stuff

- not all workflows will have knowledge bases
- I want to be able to pass params to the workflows
- I want to be able to system instructions to the agents in the workflows.
- The n8n part and the workflow side in the n8n platform, is something that I will deal with manually.
- We will communicate with any n8n workflow if needed via the use of webhooks and post requests.

# Database tables

- profiles (the one we have now on 001_initial.sql migration)
- workflows
- documents
- knowledge*base*{workflow-id} -> this should be either dynamic or generated by the admin on the supabase platform.
